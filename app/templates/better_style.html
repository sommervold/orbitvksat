<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athlete Statistics</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<!-- hvis du leser dette - forbered deg pÃ¥ et koderot haha -->
<body>
    <div class="container">

        <div class="section">
            <div class="split">
                <div class="data" style="display: flex; justify-content: center;">
                    <div>
                        <img src="/static/ksat.png" style="width: 250px; height: auto;">
                        <p class="infotext">Employees: 450</p>
                        <p class="infotext">Total distance: {{ data["ksat_length"] }} km</p>
                        <p class="infotext">Vertical distance: {{ data["ksat_height"] }} m</p>
                    </div>
                </div>
                <div>
                    <h1>VS</h1>
                </div>
                <div class="data"  style="display: flex; justify-content: center;">
                    <div>
                        <img src="/static/orbit.png" style="width: 250px; height: auto;">
                        <p class="infotext">Members: 105</p>
                        <p class="infotext">Total istance: {{ data["orbit_length"] }} km</p>
                        <p class="infotext">Vertical distance: {{ data["orbit_height"] }} m</p>
                    </div>
                </div>
            </div>
            <div style="margin-top: 40px; margin-bottom: 100px;">
                <div style="width: 100%; position: relative;">
                    <div style="background-color: red; width: 3px; height: 100px; position: absolute; z-index: 0; margin-left: 80%;"></div>
                    <div class="progress ksat" style="width: {{ data['ksat_progress'] }}%;"></div>
                    
                    <img src="/static/ksat.png" style="width: 50px; height: auto; z-index: 1; position: relative;">
                    <span class="bar-distance">{{ data['ksat_distance_per_member'] }}<span>km/employee</span></span>
                    <br>
                    <div class="progress orbit" style="width: {{ data['orbit_progress'] }}%;"></div>
                    <img src="/static/orbit.png" style="width: 50px; height: auto; z-index: 1; position: relative;">
                    <span class="bar-distance">{{ data['orbit_distance_per_member'] }}<span>km/member</span></span>
                </div>
            </div>
        
        </div>

        <div class="section">
            <h2>Longest Single Distance</h2>
            <p>
                Athlete: {{ data["longest_single_distance"]["athlete_firstname"] }} {{ data["longest_single_distance"]["athlete_lastname"] }}, Distance: {{ data["longest_single_distance"]["best_activities_distance"] }} km
            </p>
        </div>

        <div class="section split">
            <div class="split-section">
                <h2>Longest Distances by Athlete</h2>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Distance</th>
                            <th>Organization</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for athlete in data["longest"] %}
                        <tr>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete_id']}}"><img src="{{ athlete['athlete_picture_url'] }}" alt="Profile Picture" class="profile-pic"></a></td>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete_id']}}">{{ athlete["athlete_firstname"] }} {{ athlete["athlete_lastname"] }}</a></td>
                            <td>{{ athlete["distance"] }} km</td>
                            <td><img src="{{ url_for('static', filename=athlete['org_pic']) }}" alt="Org" class="org-pic"></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="split-section">
                <h2>Highest Elevations</h2>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Height</th>
                            <th>Organization</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for athlete in data["highest"] %}
                        <tr>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete_id']}}"><img src="{{ athlete['athlete_picture_url'] }}" alt="Profile Picture" class="profile-pic"></a></td>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete_id']}}">{{ athlete["athlete_firstname"] }} {{ athlete["athlete_lastname"] }}</a></td>
                            <td>{{ athlete["elev_gain"] }} m</td>
                            <td><img src="{{ url_for('static', filename=athlete['org_pic']) }}" alt="Org" class="org-pic"></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tshirt Winners & Marathon Winners Section -->
        <div class="section split">
            <div class="split-section">
                <h2>Tshirt Winners</h2>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Time earned</th>
                            <th>Organization</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for athlete in data["tshirt"] %}
                        <tr>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete']['athlete_id']}}"><img src="{{ athlete['athlete']['athlete_picture_url'] }}" alt="Profile Picture" class="profile-pic"></a></td>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete']['athlete_id']}}">{{ athlete["athlete"]["athlete_firstname"] }} {{ athlete["athlete"]["athlete_lastname"] }}</a></td>
                            <td>{{ athlete["time"] }}</td>
                            <td><img src="{{ url_for('static', filename=athlete['athlete']['org_pic']) }}" alt="Org" class="org-pic"></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="split-section">
                <h2>Marathon Winners</h2>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Time earned</th>
                            <th>Organization</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for athlete in data["marathon"] %}
                        <tr>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete']['athlete_id']}}"><img src="{{ athlete['athlete']['athlete_picture_url'] }}" alt="Profile Picture" class="profile-pic"></a></td>
                            <td><a href="https://strava.com/athletes/{{athlete['athlete']['athlete_id']}}">{{ athlete["athlete"]["athlete_firstname"] }} {{ athlete["athlete"]["athlete_lastname"] }}</a></td>
                            <td>{{ athlete["time"] }}</td>
                            <td><img src="{{ url_for('static', filename=athlete['athlete']['org_pic']) }}" alt="Org" class="org-pic"></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
